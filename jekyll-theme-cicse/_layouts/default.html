<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta charset="utf-8">

    {% seo %}

		<link rel="stylesheet" href="{{ "/assets/css/main.css" | relative_url }}">
	</head>
	<body class="flex">
    <div class="flex-1 flex flex-row-reverse">
      {% assign col = site.collections | where: "label", page.collection | first %}
      {% if page.collection and page.collection != 'posts' and col.disable_menu != true %}
        <nav class="hidden lg:block w-[16rem]">
          <div class="h-20 bg-gradient-to-tl from-blue-50"></div>
          <ul class="bg-gradient-to-bl from-blue-50 pb-6">
            {% for p in site[page.collection] %}
              <li>
                {% unless p == page %}
                  <a
                    href="{{ p.url | relative_url }}"
                    class="min-h-8 block flex items-center hover:bg-blue-100
                          {% if p.is_index %} pl-2 font-bold
                          {% else %} pl-4
                          {% endif %}
                          "
                  >
                    {{ p.title }}
                  </a>
                {% else %}
                  <span class="min-h-8 flex items-center bg-blue-100 align-middle
                               {% if p.is_index %} pl-2 font-bold
                               {% else %} pl-4
                               {% endif %}
                               ">
                    {{ p.title }}
                  </span>
                {% endunless %}
              </li>
            {% endfor %}
          </ul>
        </nav>
      {% endif %}
    </div>
    <div class="w-full md:w-[50rem]">
      <header class="mx-auto w-full text-white bg-navy-blue p-2">
        <a href="https://institute.constructor.org/">
          <img
            src="{{'/assets/images/C_IT_Logo_White_On_Transparent-cropped-min.svg' | relative_url}}"
            alt="Constructor Institute of Technology logo"
            class="h-3.5 block"
          >
        </a>
        <a href="{{ "/" | relative_url }}" class="text-2xl my-4 inline-block">
          {{ site.title }}
          {% if site.tagline %}
            — {{ site.tagline }}
          {% endif %}
        </a>
        <ul class="flex items-center gap-6">
            <li>
                <a href="{{ "/" | relative_url }}">Home</a>
            </li>
            {% for nav in site.cicse.nav_links %}
                <li>
                    <a href="{{ nav.link | relative_url }}">{{ nav.title }}</a>
                </li>
            {% endfor %}
        </ul>
      </header>

      <div class="p-2">
        {{ content }}

        {% if page.previous or page.next %}
          <div class="flex md:w-[40rem] mx-auto mt-10 mb-10">
            {% if page.previous %}
              <a
                href="{{ page.previous.url | relative_url }}"
                class="block flex-1 text-navy-blue visited-revert hover:underline"
              >
                ← Previous page <br>
                <span class="font-bold">{{ page.previous.title }}</span>
              </a>
            {% else %}
              <div></div>
            {% endif%}

            {% if page.previous and page.next %}
              <div class="hidden md:block w-[1px] self-center h-6 bg-navy-blue"></div>
            {% endif %}

            {% if page.next %}
              <a
                href="{{ page.next.url | relative_url }}"
                class="block flex-1 text-navy-blue visited-revert hover:underline text-right"
              >
                Next page → <br>
                <span class="font-bold">{{ page.next.title }}</span>
              </a>
            {% else %}
              <div></div>
            {% endif %}
          </div>
        {% endif %}
      </div>

		</div>

		<div class="flex-1"></div>
  </body>
</html>
